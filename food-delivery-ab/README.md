# Анализ промежуточных результатов A/B-теста для сервиса по доставке еды

## Описание кейса

- **Продукт**: сервис по доставке еды. Пользователь может заказать еду через мобильное приложение и заказ доставят в течение 1 часа
- **Тестируемое изменение**: «спящим» пользователям (тем, кто не делал заказ больше месяца) отправили промокод на скидку 30% на заказ с целью реактивации базы клиентов. Промокод они получили через пуш-уведомление
- **Цель теста**: целевая метрика – повторный заказ после применения промокода (базовая конверсия повторного заказа – 0.1 или 10%, клиент ожидает прирост (lift) в повторный заказ на +15%)

## Описание данных

- `date` – день эксперимента;
- `p_value` – p_value на день эксперимента (расчет p-value – накопительный с учетом предыдущих дней);
- `users` – количество пользователей, принявших участие в эксперименте.

## Задача

- проанализировать эксперимент, ориентируясь на p-value: что можно сказать по его поведению? Стоит ли останавливать эксперимент?
- посчитать время, которое требуется на эксперимент с учетом вводных

## Предположения

Нам не была предоставлена информация о соотношении контрольной и тестовой групп, а также о требованиях к α и β при проведении эксперимента, поэтому при решении кейса мы будем исходить из следующих предположений:

- α = 0.05
- β = 0.2
- соотношение контрольной и тестовой групп 1:1

## Результат работы

В ходе работы над кейсом мы проанализировали промежуточные результаты A/B-теста для сервиса по доставке еды («спящим» пользователям отправили промокод на скидку 30% на заказ) и рассчитали время, необходимое на проведение эксперимента, исходя из ожидаемого и фактического lift'а.

**Анализ промежуточных результатов эксперимента**

- **p-value**: в течение первых 5 дней эксперимента p-value рос, но затем начал снижаться; по состоянию на последний доступный день эксперимента p-value больше α 0.05 (т.е. говорить о наличии эффекта нельзя), но при этом значение не вышло на плато, поэтому если ориентироваться только p-value, останавливать эксперимент рано
- **lift**: в течение первых 5 дней эксперимента lift снижался, но затем начал расти; по состоянию на последний доступный день эксперимента наблюдаемый lift ниже ожидаемого
- **users and users need**: количество пользователей ожидаемо растет по ходу эксперимента, при этом демонстрирует линейный рост; исходя из наблюдаемого эффекта количество необходимых пользователей стремится к фактическому, т.е. целесообразно продолжать эксперимент
- **effect size и MDE**: фактический mde ожидаемо снижается по ходу эксперимента при увеличении числа участников; по состоянию на последний доступный день эксперимента наблюдаемый effect size по модулю ниже фактического mde, т.е. мы не можем быть уверены в результатах эксперимента при заданных значениях α и β, и это является дополнительным аргументом в пользу продолжения эксперимента

**Расчет времени, необходимого на проведение эксперимента**

При условии сохранения линенйного роста числа пользователей:

- исходя из ожидаемого эффекта количество наблюдений достигнет необходимого значения на 17-й день, т.е. необходимо продолжать эксперимент еще 4 дня;
- исходя из наблюдаемого эффекта (при условии, что он сохранится), количество наблюдений достигнет необходимого значения на 37-й день, т.е. необходимо продолжать эксперимент еще две 3 с половиной недели.
